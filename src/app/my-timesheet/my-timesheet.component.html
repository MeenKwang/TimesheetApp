<mat-card class="content mat-elevation-z4">
    <mat-card-header>
        <mat-card-title style="font-size: 30px;"> {{selectedDate | date: "dd-MM-yyyy"}} </mat-card-title>
        <div>
            <button mat-raised-button color="primary" style="margin-right: 15px; height: 55px;">Refresh</button>
            <button mat-raised-button style="margin-right: 15px; background-color: green; color: white; height: 55px;"
                (click)="returnCurrentDay()"
            >
                Today
            </button>
            <mat-button-toggle-group>
                <mat-button-toggle (change)="minusOneDay()"><mat-icon>keyboard_arrow_left</mat-icon></mat-button-toggle>
                <mat-button-toggle>
                    <mat-form-field>
                        <input [(ngModel)]="this.selectedDate" matInput [matDatepicker]="picker" readonly="true" [defaultValue]="this.selectedDate" 
                        (dateChange)="getWeekNumberAndUpdateDay(this.selectedDate)" style="text-align: center;">
                        <mat-datepicker #picker></mat-datepicker>
                    </mat-form-field>
                </mat-button-toggle>
                <mat-button-toggle (change)="plusOneDay()"><mat-icon>keyboard_arrow_right</mat-icon></mat-button-toggle>
            </mat-button-toggle-group>
            <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
        </div>
    </mat-card-header>
    &nbsp;
    &nbsp;
    &nbsp;
    <mat-card-content class="submit-week-tabs">
        <mat-tab-group [(selectedIndex)]="selectedDay" (selectedIndexChange)="returnSelectedDate($event)">
            <ng-container *ngFor="let day of daysArray; let i = index">
                <mat-tab label="{{day}}" style="justify-content: space-between;">
                    <br>
                    <div *ngIf="timeSheet === null" style="display: flex; justify-content: space-between;">
                        <button mat-raised-button color="primary" (click)="showTimesheetForm()"><mat-icon>add</mat-icon></button>
                        <button mat-raised-button color="primary">Submit week for approved</button>
                    </div>
                    <div *ngIf="timeSheet !== null" style="display: flex; justify-content: space-between;">
                        {{timeSheet[i].note}}
                        {{timeSheet[i].workingTime}}
                    </div>
                </mat-tab>
            </ng-container>
        </mat-tab-group>          
    </mat-card-content>
</mat-card>
<mat-card class="content mat-elevation-z4">
    <mat-card-header>
        <mat-card-title>Summary</mat-card-title>
        <div>
            <mat-form-field>
                <span>Status</span>
                <mat-select>
                    <mat-option *ngFor="let i of ['All', 'New', 'Pending or Approved', 'Pending', 'Approved', 'Rejected']" [value]="i">{{i}}</mat-option>
                </mat-select>
            </mat-form-field>
            &nbsp;
            &nbsp;
            &nbsp;
            <mat-form-field>
                <span>Year</span>
                <mat-select>
                    <mat-option *ngFor="let i of [2016, 2017, 2018, 2019, 2020, 2021, 2022, 2023]" [value]="i">{{i}}</mat-option>
                </mat-select>
            </mat-form-field>
            &nbsp;
            &nbsp;
            &nbsp;
            <mat-form-field>
            <span>Month</span>
            <mat-select>
                <mat-option *ngFor="let i of [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]" [value]="i">{{monthsArray[i]}}</mat-option>
            </mat-select>
            </mat-form-field>
        </div>
    </mat-card-header>
    <mat-card-content style="overflow-x: auto;">
        <table>
            <thead>
                <tr>
                    <th>Total</th>
                    <th>Open talk</th>
                    <ng-container *ngFor="let date of dates">
                        <th style="z-index: -1;">
                            {{getDate(date)}}
                            <br>
                            {{daysArraySummary[getDay(date)]}}
                        </th>
                    </ng-container>
                </tr>
            </thead>
            <tbody>
                <td style="text-align: center">20</td>
                <td style="text-align: center">2</td>
                <ng-container *ngFor="let date of dates">
                    <td style="text-align: center; z-index: -1;">
                        <p>8</p>
                        <br>
                        <span style="display: block;">08:30</span>
                        <span style="display: block;">17:00</span>
                    </td>
                </ng-container>
            </tbody>
        </table>          
    </mat-card-content>
</mat-card>
<mat-card class="content mat-elevation-z4">
    <mat-card-header>
        <mat-card-title>Check in punishments</mat-card-title>
        &nbsp;
        &nbsp;
        &nbsp;
        <mat-form-field>
            <span>Year</span>
            <mat-select>
                <mat-option *ngFor="let i of [2016, 2017, 2018, 2019, 2020, 2021, 2022, 2023]" [value]="i">{{i}}</mat-option>
            </mat-select>
        </mat-form-field>
        &nbsp;
        &nbsp;
        &nbsp;
        <mat-form-field>
        <span>Month</span>
        <mat-select>
            <mat-option *ngFor="let i of [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]" [value]="i">{{monthsArray[i]}}</mat-option>
        </mat-select>
        </mat-form-field>
        <p>Total Punished: 0</p>
        <p>Click vào button Complain và nhập nội dung khiếu nại nếu bạn thấy không đúng.</p>
    </mat-card-header>
    <mat-card-content>
        <table>
            <thead>
                <tr>
                    <th rowspan="2" >Date</th>
                    <th colspan="2">Registration Hours</th>
                    <th colspan="2">Checking time</th>
                    <th rowspan="2">Tracker time</th>
                    <th colspan="2">Result</th>
                    <th rowspan="2">Edited by</th>
                    <th rowspan="2">Punishment Money</th>
                    <th rowspan="2">Complain</th>
                    <th rowspan="2">Complain Reply</th>
                    <th rowspan="2">Action</th>
                </tr>
                <tr>
                    <th>Check in</th>
                    <th>Check out</th>
                    <th>Check in</th>
                    <th>Check out</th>
                    <th>Check in late</th>
                    <th>Check out early</th>
                </tr>
            </thead>
            <tbody>
                <th>13/6/2023</th>
                <th>08:30</th>
                <th>17:30</th>
                <th>08:34</th>
                <th>17:36</th>
                <th>00:00</th>
                <th>4</th>
                <th>-6</th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th>Complain</th>
            </tbody>
        </table>
    </mat-card-content>
</mat-card>
